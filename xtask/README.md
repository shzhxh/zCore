# zCore tasks

这个任务系统用于辅助 zCore 的开发、使用和测试工作。

为了实现这个目标，需要提供三类命令：

- [ ] 构造开发环境
  - [ ] 更新子项目/子仓库
  - [ ] 更新工具链/依赖
  - [ ] 下载并编译 Qemu
  - [ ] 下载并编译 GDB
  - [ ] 更新测例和测试系统
- [ ] 支持 zCore 使用
  - [ ] 以 LibOS 形式启动 zCore
  - [ ] 在 Qemu 环境中启动 zCore
  - [ ] 打包可烧写到其他存储介质的 zCore 镜像
  - [ ] 启动与 Qemu 关联的 GDB 以支持内核调试
- [ ] 自动化测试：实现与 CI 的逻辑一致性

## 进度日志

- 2022/05/04

  初步的计划是先尽量将 Makefile 转化为类型安全且更有可能工程化结构化的 Rust xtask。
  尤其是要将 zCore 目录内外的两个 Makefile 合并。

  目前已经架空了外面 Makefile 的 rootfs 指令，这个指令是用于将加载到内存的最小系统的。
  外面的 Makefile 还剩打包镜像、启动某些测试集的功能，但目前命令之间不正交，还需要进一步梳理。
